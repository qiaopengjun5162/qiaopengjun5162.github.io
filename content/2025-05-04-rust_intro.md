+++
title = "Rust ç¼–ç¨‹ï¼šé›¶åŸºç¡€å…¥é—¨é«˜æ€§èƒ½å¼€å‘"
description = "Rust ç¼–ç¨‹ï¼šé›¶åŸºç¡€å…¥é—¨é«˜æ€§èƒ½å¼€å‘"
date = 2025-05-04T02:42:40Z
[taxonomies]
categories = ["Rust"]
tags = ["Rust"]
+++

<!-- more -->

# Rust ç¼–ç¨‹ï¼šé›¶åŸºç¡€å…¥é—¨é«˜æ€§èƒ½å¼€å‘

æƒ³æŒæ¡ä¸€é—¨å…¼å…· C++ æ€§èƒ½ä¸ç°ä»£å®‰å…¨æ€§çš„ç¼–ç¨‹è¯­è¨€ï¼ŸRust æ­£æ˜¯ä½ çš„ç†æƒ³é€‰æ‹©ï¼ä½œä¸ºå¸­å·ç³»ç»Ÿç¼–ç¨‹å’Œé«˜æ€§èƒ½å¼€å‘é¢†åŸŸçš„â€œæ–°æ˜Ÿâ€ï¼ŒRust ä¸ä»…è¢« Firefox å’Œ Google Fuschia ç­‰å¤§å‚é‡‡ç”¨ï¼Œè¿˜å› å…¶é›¶åŸºç¡€å‹å¥½çš„å­¦ä¹ è·¯å¾„å—åˆ°å¼€å‘è€…è¿½æ§ã€‚æœ¬æ–‡å°†å¸¦ä½ ä»å®‰è£… Rust åˆ°ç¼–å†™ç¬¬ä¸€ä¸ªç¨‹åºï¼Œé›¶åŸºç¡€ä¹Ÿèƒ½å¿«é€Ÿä¸Šæ‰‹ï¼Œè§£é”é«˜æ€§èƒ½å¼€å‘çš„æ— é™å¯èƒ½ï¼å¿«æ¥è·Ÿéšè¿™ç¯‡å…¥é—¨æŒ‡å—ï¼Œå¼€å¯ä½ çš„ Rust ç¼–ç¨‹ä¹‹æ—…å§ï¼

æœ¬æ–‡å…¨é¢ä»‹ç» Rust ç¼–ç¨‹è¯­è¨€çš„å…¥é—¨çŸ¥è¯†ï¼Œæ¶µç›–å…¶é«˜æ€§èƒ½ã€å†…å­˜å®‰å…¨å’Œå¹¶å‘å¤„ç†çš„ç‹¬ç‰¹ä¼˜åŠ¿ï¼Œä»¥åŠä¸ C/C++ã€Java ç­‰è¯­è¨€çš„å¯¹æ¯”ã€‚Rust å¹¿æ³›åº”ç”¨äºç³»ç»Ÿç¼–ç¨‹ã€WebAssembly å’Œé«˜æ€§èƒ½ Web æœåŠ¡ï¼Œæ·±å— Firefoxã€Google Fuschia ç­‰é¡¹ç›®é’çã€‚æ–‡ç« è¯¦ç»†è®²è§£äº† Rust çš„å®‰è£…æ­¥éª¤ã€å¼€å‘ç¯å¢ƒé…ç½®ã€ç¬¬ä¸€ä¸ªâ€œHello Worldâ€ç¨‹åºçš„ç¼–å†™ï¼Œä»¥åŠä½¿ç”¨ Cargo å·¥å…·è¿›è¡Œé¡¹ç›®ç®¡ç†ã€‚å°½ç®¡ Rust å­¦ä¹ æ›²çº¿ç¨é™¡ï¼Œä½†å…¶å¼ºå¤§çš„æ€§èƒ½å’Œå®‰å…¨æ€§ä½¿å…¶æˆä¸ºé›¶åŸºç¡€å¼€å‘è€…è¿ˆå‘é«˜æ€§èƒ½å¼€å‘çš„ç†æƒ³èµ·ç‚¹ã€‚

## Rustç®€ä»‹

### ä¸ºä»€ä¹ˆè¦ç”¨Rustï¼Ÿ

- Rustæ˜¯ä¸€ç§ä»¤äººå…´å¥‹çš„æ–°ç¼–ç¨‹è¯­è¨€ï¼Œå®ƒå¯ä»¥è®©æ¯ä¸ªäººç¼–å†™å¯é ä¸”é«˜æ•ˆçš„è½¯ä»¶ã€‚
- å®ƒå¯ä»¥ç”¨æ¥æ›¿æ¢C/C++ï¼ŒRustå’Œä»–ä»¬å…·æœ‰åŒæ ·çš„æ€§èƒ½ï¼Œä½†æ˜¯å¾ˆå¤šå¸¸è§çš„bugåœ¨ç¼–è¯‘æ—¶å°±å¯ä»¥è¢«æ¶ˆç­ã€‚
- Rustæ˜¯ä¸€ç§é€šç”¨çš„ç¼–ç¨‹è¯­è¨€ï¼Œä½†æ˜¯å®ƒæ›´å–„äºä»¥ä¸‹åœºæ™¯ï¼š
  - éœ€è¦è¿è¡Œæ—¶çš„é€Ÿåº¦
  - éœ€è¦å†…å­˜å®‰å…¨
  - æ›´å¥½çš„åˆ©ç”¨å¤šå¤„ç†å™¨

### ä¸å…¶ä»–è¯­è¨€æ¯”è¾ƒ

- C/C++æ€§èƒ½éå¸¸å¥½ï¼Œä½†ç±»å‹ç³»ç»Ÿå’Œå†…å­˜éƒ½ä¸å¤ªå®‰å…¨ã€‚
- Java/C#ï¼Œæ‹¥æœ‰GCï¼Œèƒ½ä¿è¯å†…å­˜å®‰å…¨ï¼Œä¹Ÿæœ‰å¾ˆå¤šä¼˜ç§€ç‰¹æ€§ï¼Œä½†æ˜¯æ€§èƒ½ä¸è¡Œã€‚
- Rustï¼š
  - å®‰å…¨
  - æ— éœ€GCï¼ˆæ€§èƒ½å¥½é€Ÿåº¦å¿«ï¼‰
  - æ˜“äºç»´æŠ¤ã€è°ƒè¯•ã€ä»£ç å®‰å…¨é«˜æ•ˆ

### Rustç‰¹åˆ«æ“…é•¿çš„é¢†åŸŸ

- é«˜æ€§èƒ½ Web Service (Web API)
- WebAssembly
- å‘½ä»¤è¡Œå·¥å…·
- ç½‘ç»œç¼–ç¨‹
- åµŒå…¥å¼è®¾å¤‡
- ç³»ç»Ÿç¼–ç¨‹

### Rustä¸Firefox

- Rustæœ€åˆæ˜¯Mazillaå…¬å¸çš„ä¸€ä¸ªç ”ç©¶æ€§é¡¹ç›®ã€‚Firefoxæ˜¯Rustäº§å“åº”ç”¨çš„ä¸€ä¸ªé‡è¦çš„ä¾‹å­ã€‚
- Mazilla ä¸€ç›´ä»¥æ¥éƒ½åœ¨ç”¨Ruståˆ›å»ºä¸€ä¸ªåä¸ºServoçš„å®éªŒæ€§æµè§ˆå™¨å¼•æ“ï¼Œå…¶ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯å¹¶è¡Œæ‰§è¡Œçš„ã€‚
  - ç›®å‰Servoçš„éƒ¨åˆ†åŠŸèƒ½å·²ç»è¢«é›†æˆåˆ°Firefoxé‡Œé¢äº†
- FirefoxåŸæ¥çš„é‡å­ç‰ˆå°±åŒ…å«äº†Servoçš„CSSæ¸²æŸ“å¼•æ“
  - Rustä½¿å¾—Firefoxåœ¨è¿™æ–¹é¢å¾—åˆ°äº†å·¨å¤§çš„æ€§èƒ½æ”¹è¿›

### Rustçš„ç”¨æˆ·å’Œæ¡ˆä¾‹

- Googleï¼šæ–°æ“ä½œç³»ç»ŸFuschiaï¼Œå…¶ä¸­Rustä»£ç é‡å¤§çº¦å 30%
- Amazonï¼šåŸºäºLinuxå¼€å‘çš„ç›´æ¥å¯ä»¥åœ¨è£¸æœºã€è™šæœºä¸Šè¿è¡Œå®¹å™¨çš„æ“ä½œç³»ç»Ÿ
- System76ã€ç™¾åº¦ã€åä¸ºã€èš‚èšé‡‘æœ...

### Rustçš„ä¼˜ç‚¹

- æ€§èƒ½
- å®‰å…¨æ€§
- æ— æ‰€ç•æƒ§çš„å¹¶å‘

### Rustçš„ç¼ºç‚¹

- å­¦ä¹ æ›²çº¿é«˜ â€éš¾å­¦â€œ

### æ³¨æ„

- Rustæœ‰å¾ˆå¤šç‹¬æœ‰çš„æ¦‚å¿µï¼Œè¦ä¸€æ­¥ä¸€æ­¥å­¦ä¹ 

## Rust å®‰è£…

å®˜ç½‘ï¼š<https://www.rust-lang.org/zh-CN/learn/get-started>

Windowsï¼šæŒ‰å®˜ç½‘æŒ‡ç¤ºæ“ä½œ

Mac å®‰è£…ï¼š

```bash
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

```

![](https://raw.githubusercontent.com/qiaopengjun5162/blogpicgo/master/img/202302181555079.png)

### æ›´æ–°ä¸å¸è½½Rust

- æ›´æ–°Rust

```rust
rustup update
```

- å¸è½½Rust

```rust
rustup self uninstall
```

### å®‰è£…éªŒè¯

- `rustc --version`
  - ç»“æ„æ ¼å¼ï¼šrustc x.y.z(abcdbcdbc yyyy-mm-dd)
  - ä¼šç°å®æœ€æ–°ç¨³å®šç‰ˆï¼šç‰ˆæœ¬å·ã€commit hashã€commitæ—¥æœŸ

### æœ¬åœ°æ–‡æ¡£

- å®‰è£…Rustçš„æ—¶å€™ï¼Œä¼šåœ¨æœ¬åœ°å®‰è£…æ–‡æ¡£ï¼Œå¯ç¦»çº¿æµè§ˆ
- è¿è¡Œ`rustup doc`å¯åœ¨æµè§ˆå™¨æ‰“å¼€æœ¬åœ°æ–‡æ¡£

```bash
âœ cargo --version
cargo 1.67.1 (8ecd4f20a 2023-01-10)

~
âœ rustc --version
rustc 1.67.1 (d5a82bbd2 2023-02-07)

~
âœ rustup doc
```

### å¼€å‘å·¥å…·

- Visual Studio Code
  - Rust æ’ä»¶
- Pycharmï¼ˆIntellij Idea ç³»åˆ—ï¼‰
  - Rustæ’ä»¶

### Hello World ä¾‹å­

ç¼–å†™Rustç¨‹åº

- ç¨‹åºæ–‡ä»¶åç¼€åï¼šrs
- æ–‡ä»¶å‘½åè§„èŒƒï¼šhello_world.rs

```bash
âœ mkdir rust

~
âœ cd rust

~/rust
âœ mkdir hello_world

~/rust
âœ cd hello_world

~/rust/hello_world
âœ code .

~/rust/hello_world
âœ pwd
/Users/qiaopengjun/rust/hello_world

~/rust/hello_world via ğŸ¦€ 1.67.1
âœ mv hello_world.rs main.rs

~/rust/hello_world via ğŸ¦€ 1.67.1
âœ rustc main.rs

~/rust/hello_world via ğŸ¦€ 1.67.1
âœ ls
main    main.rs

âœ ./main
Hello World!
```

main.rs`æ–‡ä»¶

```rust
fn main() {
    println!("Hello World!");
}
```

### Rust ç¨‹åºè§£å‰–

- å®šä¹‰å‡½æ•°ï¼š`fn main(){}`
  - æ²¡æœ‰å‚æ•°ï¼Œæ²¡æœ‰è¿”å›
- `main`å‡½æ•°å¾ˆç‰¹åˆ«ï¼šå®ƒæ˜¯æ¯ä¸ªRustå¯æ‰§è¡Œç¨‹åºæœ€å…ˆè¿è¡Œçš„ä»£ç 
- æ‰“å°æ–‡æœ¬ï¼š`printIn!("Hello, world!");`
  - Rustçš„ç¼©è¿›æ˜¯4ä¸ªç©ºæ ¼è€Œä¸æ˜¯tab
  - printIn!æ˜¯ä¸€ä¸ªRust macroï¼ˆå®ï¼‰
    - å¦‚æœæ˜¯å‡½æ•°çš„è¯ï¼Œå°±æ²¡æœ‰!
  - "Hello World" æ˜¯å­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯printIn!çš„å‚æ•°
  - è¿™è¡Œä»£ç ä»¥;ç»“å°¾

## ç¼–è¯‘å’Œè¿è¡Œæ˜¯å•ç‹¬çš„ä¸¤æ­¥

- è¿è¡ŒRustç¨‹åºä¹‹å‰å¿…é¡»å…ˆç¼–è¯‘ï¼Œå‘½ä»¤ä¸ºï¼š`rustc`æºæ–‡ä»¶å
  - `rustc main.rs`
- ç¼–è¯‘æˆåŠŸåï¼Œä¼šç”Ÿæˆä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶
  - åœ¨Windowsä¸Šè¿˜ä¼šç”Ÿäº§ä¸€ä¸ª`.pdb`æ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«è°ƒè¯•ä¿¡æ¯
- Rustæ˜¯ahead-of-timeç¼–è¯‘çš„è¯­è¨€ï¼ˆé¢„å…ˆç¼–è¯‘ï¼‰
  - å¯ä»¥å…ˆç¼–è¯‘ç¨‹åºï¼Œç„¶åæŠŠå¯æ‰§è¡Œæ–‡ä»¶äº¤ç»™åˆ«äººè¿è¡Œï¼ˆæ— éœ€å®‰è£…Rustï¼‰
- Rustc åªé€‚åˆç®€å•çš„Rustç¨‹åº...

### Hello Cargo

### Cargo

- Cargo æ˜¯Rustçš„æ„å»ºç³»ç»Ÿå’ŒåŒ…ç®¡ç†å·¥å…·
  - æ„å»ºä»£ç ã€ä¸‹è½½ä¾èµ–çš„åº“ã€æ„å»ºè¿™äº›è‹¦...
- å®‰è£…Rustçš„æ—¶å€™ä¼šå®‰è£…Cargo
  - Cargo --version

```rust
~/rust/hello_world via ğŸ¦€ 1.67.1
âœ cargo --version
cargo 1.67.1 (8ecd4f20a 2023-01-10)
```

### ä½¿ç”¨Cargoåˆ›å»ºé¡¹ç›®

- åˆ›å»ºé¡¹ç›®ï¼š`cargo new hello_cargo`
  - é¡¹ç›®åç§°ä¹Ÿæ˜¯`hello_cargo`
  - ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ç›®å½•`hello_cargo`
    - Cargo.toml
    - srcç›®å½•
      - `main.rs`
    - åˆå§‹åŒ–äº†ä¸€ä¸ªæ–°çš„Gitä»“åº“ `.gitignore`
      - å¯ä»¥ä½¿ç”¨å…¶å®ƒçš„VCSæˆ–ä¸ä½¿ç”¨VCSï¼šcargo new çš„æ—¶å€™ä½¿ç”¨ --vcs è¿™ä¸ªflag

```bash
~/rust
âœ cargo new hello_cargo
     Created binary (application) `hello_cargo` package

~/rust

âœ ls
hello_cargo hello_world

~/rust
âœ cd hello_cargo

hello_cargo on î‚  master [?] via ğŸ¦€ 1.67.1
âœ ls
Cargo.toml src

hello_cargo on î‚  master [?] via ğŸ¦€ 1.67.1
âœ âœ ls
Cargo.toml src
```

#### `Cargo.toml`

- TOMLï¼ˆTom's Obvious, Minimal Languageï¼‰æ ¼å¼ï¼Œæ˜¯Cargoçš„é…ç½®æ ¼å¼
- [package]ï¼Œæ˜¯ä¸€ä¸ªåŒºåŸŸæ ‡é¢˜ï¼Œè¡¨ç¤ºä¸‹æ–¹å†…å®¹æ˜¯ç”¨æ¥é…ç½®åŒ…ï¼ˆpackageï¼‰çš„
  - name é¡¹ç›®å
  - version é¡¹ç›®ç‰ˆæœ¬
  - authors é¡¹ç›®ä½œè€…
  - edition ä½¿ç”¨çš„Rustç‰ˆæœ¬
- [dependencies] å¦ä¸€ä¸ªåŒºåŸŸçš„å¼€å§‹ï¼Œå®ƒä¼šåˆ—å‡ºé¡¹ç›®çš„ä¾èµ–é¡¹
- åœ¨Rusté‡Œé¢ï¼Œä»£ç çš„åŒ…ç§°ä½œcrate

![](https://raw.githubusercontent.com/qiaopengjun5162/blogpicgo/master/img/202302162243199.png)

#### `src/main.rs`

- cargo ç”Ÿæˆçš„main.rsåœ¨srcç›®å½•ä¸‹
- è€ŒCargo.tomlåœ¨é¡¹ç›®é¡¶å±‚ä¸‹
- æºä»£ç éƒ½åº”è¯¥åœ¨srcç›®å½•ä¸‹
- é¡¶å±‚ç›®å½•å¯ä»¥æ”¾ç½®ï¼šREADMEã€è®¸å¯ä¿¡æ¯ã€é…ç½®æ–‡ä»¶å’Œå…¶å®ƒä¸ç¨‹åºæºç æ— å…³çš„æ–‡ä»¶
- å¦‚æœåˆ›å»ºé¡¹ç›®æ—¶æ²¡æœ‰ä½¿ç”¨cargoï¼Œä¹Ÿå¯ä»¥æŠŠé¡¹ç›®è½¬åŒ–ä¸ºä½¿ç”¨cargoï¼š
  - æŠŠæºä»£ç æ–‡ä»¶ç§»åŠ¨åˆ°srcä¸‹
  - åˆ›å»ºCargo.tomlå¹¶å¡«å†™ç›¸åº”çš„é…ç½®

### æ„å»ºCargoé¡¹ç›® cargo build

- cargo build
  - åˆ›å»ºå¯æ‰§è¡Œæ–‡ä»¶ï¼štarget/debug/hello_cargoæˆ–target\debug\hello_cargo.exe(Windows)
  - è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶ï¼š`./target/debug/hello_cargo`æˆ–`.\target\debug\hello_cargo.exe(Windows)`
- ç¬¬ä¸€æ¬¡è¿è¡Œ`cargo build`ä¼šåœ¨é¡¶å±‚ç›®å½•ç”Ÿæˆcargo.lockæ–‡ä»¶
  - è¯¥æ–‡ä»¶è´Ÿè´£è¿½è¸ªé¡¹ç›®ä¾èµ–çš„ç²¾ç¡®ç‰ˆæœ¬
  - ä¸éœ€è¦æ‰‹åŠ¨ä¿®æ”¹è¯¥æ–‡ä»¶

### æ„å»ºå’Œè¿è¡Œcargoé¡¹ç›® `cargo run`

- cargo run ç¼–è¯‘ä»£ç  + æ‰§è¡Œç»“æœ
  - å¦‚æœä¹‹å‰ç¼–è¯‘æˆåŠŸè¿‡ï¼Œå¹¶ä¸”æºç æ²¡æœ‰æ”¹å˜ï¼Œé‚£ä¹ˆå°±ä¼šç›´æ¥è¿è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶

```rust
hello_cargo on î‚  master [?] is ğŸ“¦ 0.1.0 via ğŸ¦€ 1.67.1
âœ cargo run
   Compiling hello_cargo v0.1.0 (/Users/qiaopengjun/rust/hello_cargo)
    Finished dev [unoptimized + debuginfo] target(s) in 0.38s
     Running `target/debug/hello_cargo`
Hello, world!

hello_cargo on î‚  master [?] is ğŸ“¦ 0.1.0 via ğŸ¦€ 1.67.1
âœ
```

![](https://raw.githubusercontent.com/qiaopengjun5162/blogpicgo/master/img/202302162243594.png)

#### `cargo check`

- cargo check æ£€æŸ¥ä»£ç ï¼Œç¡®ä¿èƒ½é€šè¿‡ç¼–è¯‘ï¼Œä½†æ˜¯ä¸äº§ç”Ÿä»»ä½•å¯æ‰§è¡Œæ–‡ä»¶
- cargo chekc è¦æ¯” cargo build å¿«å¾—å¤š
  - ç¼–å†™ä»£ç çš„æ—¶å€™å¯ä»¥è¿ç»­åå¤çš„ä½¿ç”¨cargo chekc æ£€æŸ¥ä»£ç ï¼Œæé«˜æ•ˆç‡

### ä¸ºå‘å¸ƒæ„å»º

- cargo build --release
  - ç¼–è¯‘æ—¶ä¼šè¿›è¡Œä¼˜åŒ–
    - ä»£ç ä¼šè¿è¡Œçš„æ›´å¿«ï¼Œä½†æ˜¯ç¼–è¯‘æ—¶é—´æ›´é•¿
  - ä¼šåœ¨target/releaseè€Œä¸æ˜¯target/debugç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶
- ä¸¤ç§é…ç½®
  - å¼€å‘
  - æ­£å¼å‘å¸ƒ

å°½é‡ç”¨Cargo

## æ€»ç»“

Rust ç¼–ç¨‹è¯­è¨€ä»¥å…¶å“è¶Šçš„æ€§èƒ½ã€å†…å­˜å®‰å…¨æ€§å’Œç°ä»£å¹¶å‘èƒ½åŠ›ï¼Œæ­£åœ¨æˆä¸ºé«˜æ€§èƒ½å¼€å‘é¢†åŸŸçš„é¦–é€‰ã€‚ä» Firefox çš„ CSS æ¸²æŸ“å¼•æ“åˆ° Google Fuschia æ“ä½œç³»ç»Ÿï¼ŒRust çš„å®é™…åº”ç”¨è¯æ˜äº†å…¶å¼ºå¤§æ½œåŠ›ã€‚æœ¬æ–‡é€šè¿‡å®‰è£…é…ç½®ã€Hello World ç¨‹åºå’Œ Cargo å·¥å…·çš„ä»‹ç»ï¼ŒåŠ©ä½ é›¶åŸºç¡€è¿ˆå‡º Rust å­¦ä¹ ç¬¬ä¸€æ­¥ã€‚å°½ç®¡ Rust çš„ç‹¬ç‰¹æ¦‚å¿µéœ€è¦æ—¶é—´æŒæ¡ï¼Œä½†å…¶ç®€æ´çš„è¯­æ³•å’Œå¼ºå¤§çš„ç”Ÿæ€ç³»ç»Ÿè®©æ¯ä½å¼€å‘è€…éƒ½èƒ½è½»æ¾ä¸Šæ‰‹ã€‚ç«‹å³å®‰è£… Rustï¼Œç¼–å†™ä½ çš„ç¬¬ä¸€ä¸ªé«˜æ€§èƒ½ç¨‹åºï¼Œæ¢ç´¢ç¼–ç¨‹çš„æœªæ¥ï¼

## å‚è€ƒ

- <https://alloy.rs/introduction/getting-started/>
- <https://www.rust-lang.org/zh-CN>
- <https://crates.io/>
- <https://course.rs/about-book.html>
- <https://rustwiki.org/docs/>
- <https://rust-book.junmajinlong.com/ch1/00.html>
