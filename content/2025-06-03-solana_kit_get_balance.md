+++
title = "å¿«é€Ÿä¸Šæ‰‹ Web3ï¼šç”¨ @solana/kit åœ¨ Solana ä¸Šåˆ›å»ºé’±åŒ…å¹¶æŸ¥è¯¢ä½™é¢"
description = "å¿«é€Ÿä¸Šæ‰‹ Web3ï¼šç”¨ @solana/kit åœ¨ Solana ä¸Šåˆ›å»ºé’±åŒ…å¹¶æŸ¥è¯¢ä½™é¢"
date = 2025-06-03T00:32:30Z
[taxonomies]
categories = ["Web3", "Solana"]
tags = ["Web3", "Solana"]
+++

<!-- more -->

# å¿«é€Ÿä¸Šæ‰‹ Web3ï¼šç”¨ @solana/kit åœ¨ Solana ä¸Šåˆ›å»ºé’±åŒ…å¹¶æŸ¥è¯¢ä½™é¢

Web3 çš„æµªæ½®æ­£åœ¨å¸­å·å…¨çƒï¼ŒSolana ä½œä¸ºé«˜æ€§èƒ½åŒºå—é“¾çš„ä»£è¡¨ï¼Œä»¥å…¶ä½å»¶è¿Ÿå’Œé«˜ååé‡æˆä¸ºå¼€å‘è€…æ„å»ºå»ä¸­å¿ƒåŒ–åº”ç”¨ï¼ˆDAppï¼‰çš„é¦–é€‰å¹³å°ã€‚æœ¬æ–‡é€šè¿‡ä¸€ä¸ªç®€å•å®ç”¨çš„é¡¹ç›®ï¼Œå±•ç¤ºå¦‚ä½•åˆ©ç”¨ @solana/kit åº“åœ¨ Solana æœ¬åœ°èŠ‚ç‚¹ä¸Šåˆ›å»ºé’±åŒ…ã€æ‰§è¡Œç©ºæŠ•å¹¶æŸ¥è¯¢ä½™é¢ã€‚æ— è®ºæ‚¨æ˜¯ Web3 å¼€å‘çš„åˆå­¦è€…ï¼Œè¿˜æ˜¯å¸Œæœ›å¿«é€ŸæŒæ¡ Solana å¼€å‘æŠ€èƒ½çš„å¼€å‘è€…ï¼Œæœ¬æ•™ç¨‹éƒ½å°†ä¸ºæ‚¨æä¾›æ¸…æ™°çš„æŒ‡å¼•ï¼ŒåŠ©æ‚¨è¿ˆå‡º Web3 å¼€å‘çš„ç¬¬ä¸€æ­¥ã€‚

æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†ä¸€ä¸ªåŸºäº Solana åŒºå—é“¾çš„ Web3 å¼€å‘å…¥é—¨é¡¹ç›®ï¼Œé€šè¿‡ @solana/kit åº“å®ç°é’±åŒ…åˆ›å»ºå’Œä½™é¢æŸ¥è¯¢ã€‚æ•™ç¨‹æ¶µç›–äº†é¡¹ç›®åˆå§‹åŒ–ã€ä¾èµ–å®‰è£…ã€TypeScript ä»£ç ç¼–å†™ã€å¯åŠ¨æœ¬åœ° Solana èŠ‚ç‚¹ä»¥åŠè¿è¡Œç¨‹åºçš„å®Œæ•´æµç¨‹ã€‚æ ¸å¿ƒä»£ç é€šè¿‡ createClient å‡½æ•°è¿æ¥æœ¬åœ°èŠ‚ç‚¹ï¼Œç”Ÿæˆæ–°é’±åŒ…å¹¶è‡ªåŠ¨ç©ºæŠ• 1 SOLï¼ˆ10äº¿ lamportsï¼‰ï¼ŒéšåæŸ¥è¯¢å¹¶è¾“å‡ºé’±åŒ…ä½™é¢ã€‚æ–‡ç« è¿˜å±•ç¤ºäº†é¡¹ç›®ç›®å½•ç»“æ„ã€ä»£ç è§£æåŠè¿è¡Œç»“æœï¼Œä¸º Web3 å¼€å‘è€…æä¾›äº†ä¸€ä¸ªç®€å•æ˜“æ‡‚çš„å®è·µèŒƒä¾‹ï¼Œé€‚åˆå¿«é€Ÿä¸Šæ‰‹ Solana å’Œ Web3 å¼€å‘ã€‚

## å®æ“

### åˆ›å»ºé¡¹ç›®å¹¶åˆ‡æ¢åˆ°é¡¹ç›®ç›®å½•

```bash
mcd generate_a_signer
/Users/qiaopengjun/Code/Solana/solana-sandbox/generate_a_signer
```

### é¡¹ç›®åˆå§‹åŒ–

```bash
pnpm init
Wrote to /Users/qiaopengjun/Code/Solana/solana-sandbox/generate_a_signer/package.json

{
  "name": "generate_a_signer",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "packageManager": "pnpm@10.9.0"
}

tsc --init 

Created a new tsconfig.json with:                                                                                       
                                                                                                                     TS 
  target: es2016
  module: commonjs
  strict: true
  esModuleInterop: true
  skipLibCheck: true
  forceConsistentCasingInFileNames: true


You can learn more at ***********************
```

### å®‰è£…ä¾èµ–

```bash
solana-sandbox/generate_a_signer on î‚  main [!?] is ğŸ“¦ 1.0.0 via â¬¢ v23.11.0 
âœ pnpm add @solana/kit tsx
```

### æŸ¥çœ‹é¡¹ç›®ç›®å½•

```bash
solana-sandbox/generate_a_signer on î‚  main [!?] is ğŸ“¦ 1.0.0 via â¬¢ v23.11.0 
âœ tree . -L 6 -I "target|test-ledger|.vscode|node_modules"
.
â”œâ”€â”€ package.json
â”œâ”€â”€ pnpm-lock.yaml
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ client.ts
â”‚   â””â”€â”€ index.ts
â””â”€â”€ tsconfig.json

2 directories, 5 files

```

### Client æ–‡ä»¶

```ts
import {
  airdropFactory,
  generateKeyPairSigner,
  lamports,
  MessageSigner,
  SolanaRpcApi,
  Rpc,
  TransactionSigner,
  RpcSubscriptions,
  SolanaRpcSubscriptionsApi,
  createSolanaRpc,
  createSolanaRpcSubscriptions,
} from "@solana/kit";

export type Client = {
  rpc: Rpc<SolanaRpcApi>;
  rpcSubscriptions: RpcSubscriptions<SolanaRpcSubscriptionsApi>;
  wallet: TransactionSigner & MessageSigner;
};

let client: Client | undefined;
export async function createClient(): Promise<Client> {
  if (!client) {
    // Create RPC objects and airdrop function.
    const rpc = createSolanaRpc("http://127.0.0.1:8899");
    const rpcSubscriptions = createSolanaRpcSubscriptions(
      "ws://127.0.0.1:8900"
    );
    const airdrop = airdropFactory({ rpc, rpcSubscriptions });

    // Create a wallet with lamports.
    const wallet = await generateKeyPairSigner();
    await airdrop({
      recipientAddress: wallet.address,
      lamports: lamports(1_000_000_000n),
      commitment: "confirmed",
    });

    // Store the client.
    client = { rpc, rpcSubscriptions, wallet };
  }
  return client;
}

```

è¿™æ®µä»£ç å®šä¹‰äº†ä¸€ä¸ª `createClient` å¼‚æ­¥å‡½æ•°ï¼Œç”¨äºè¿æ¥æœ¬åœ° Solana èŠ‚ç‚¹ï¼Œç”Ÿæˆä¸€ä¸ªæ–°é’±åŒ…ï¼Œå¹¶è‡ªåŠ¨ç©ºæŠ•ä¸€å®šæ•°é‡çš„ SOLï¼ˆlamportsï¼‰ï¼Œæœ€ç»ˆè¿”å›åŒ…å« RPC å®¢æˆ·ç«¯ã€è®¢é˜…å¯¹è±¡å’Œé’±åŒ…çš„ `client` å®ä¾‹ï¼Œæ–¹ä¾¿åç»­è¿›è¡ŒåŒºå—é“¾äº¤äº’ã€‚

### Index æ–‡ä»¶

```ts
import { createClient } from "./client";

const main = async () => {
  const client = await createClient();
  const { value: balance } = await client.rpc
    .getBalance(client.wallet.address)
    .send();
  console.log(`Balance: ${balance} lamports.`);
};

main().catch(console.error);

```

è¿™æ®µä»£ç æ˜¯ä¸€ä¸ªç®€å•çš„ TypeScript/JavaScript è„šæœ¬ï¼Œç”¨äºåœ¨ Solana åŒºå—é“¾æœ¬åœ°èŠ‚ç‚¹ä¸Šè·å–å¹¶æ‰“å°ä¸€ä¸ªé’±åŒ…åœ°å€çš„ä½™é¢ã€‚ä¸‹é¢æ˜¯è¯¦ç»†è§£é‡Šï¼š

```ts
import { createClient } from "./client";
```

- ä»æœ¬åœ°çš„ `client.ts` æ–‡ä»¶å¯¼å…¥ `createClient` å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°è´Ÿè´£åˆå§‹åŒ–ä¸ Solana èŠ‚ç‚¹çš„è¿æ¥å’Œé’±åŒ…ã€‚

---

```ts
const main = async () => {
  const client = await createClient();
  const { value: balance } = await client.rpc
    .getBalance(client.wallet.address)
    .send();
  console.log(`Balance: ${balance} lamports.`);
};
```

- å®šä¹‰äº†ä¸€ä¸ªå¼‚æ­¥çš„ `main` å‡½æ•°ã€‚
- `const client = await createClient();`  
  è°ƒç”¨ `createClient`ï¼Œè¿”å›ä¸€ä¸ªåŒ…å« RPC å®¢æˆ·ç«¯ã€è®¢é˜…å¯¹è±¡å’Œé’±åŒ…çš„ `client` å®ä¾‹ã€‚
- `const { value: balance } = await client.rpc.getBalance(client.wallet.address).send();`
  é€šè¿‡ RPC å®¢æˆ·ç«¯æŸ¥è¯¢é’±åŒ…åœ°å€çš„ä½™é¢ã€‚  
  - `client.wallet.address` æ˜¯é’±åŒ…çš„åœ°å€ã€‚
  - `client.rpc.getBalance(...)` æ„é€ ä¸€ä¸ªæŸ¥è¯¢ä½™é¢çš„è¯·æ±‚ã€‚
  - `.send()` å‘é€è¯·æ±‚åˆ° Solana èŠ‚ç‚¹ï¼Œè¿”å›ä½™é¢ä¿¡æ¯ã€‚
  - é€šè¿‡è§£æ„èµ‹å€¼è·å– `value` å­—æ®µï¼ˆå³ä½™é¢ï¼Œå•ä½ä¸º lamportsï¼‰ã€‚
- `console.log(...)`  æ‰“å°ä½™é¢åˆ°æ§åˆ¶å°ã€‚

---

```ts
main().catch(console.error);
```

è°ƒç”¨ `main` å‡½æ•°ï¼Œå¹¶æ•è·å¯èƒ½çš„å¼‚å¸¸ï¼Œæ‰“å°é”™è¯¯ä¿¡æ¯ã€‚
æ€»ç»“ï¼šè¯¥è„šæœ¬ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªé’±åŒ…ï¼ˆæˆ–ä½¿ç”¨å·²å­˜åœ¨çš„é’±åŒ…ï¼‰ï¼Œè¿æ¥åˆ°æœ¬åœ° Solana èŠ‚ç‚¹ï¼ŒæŸ¥è¯¢è¯¥é’±åŒ…çš„ä½™é¢ï¼Œå¹¶å°†ä½™é¢ï¼ˆä»¥ lamports ä¸ºå•ä½ï¼‰è¾“å‡ºåˆ°æ§åˆ¶å°ã€‚

### å¯åŠ¨æœ¬åœ°èŠ‚ç‚¹

```bash
solana-sandbox/generate_a_signer on î‚  main [!?] is ğŸ“¦ 1.0.0 via â¬¢ v23.11.0 
âœ solana-test-validator -r
Ledger location: test-ledger
Log: test-ledger/validator.log
â ‚ Initializing...                                                                                                Waiting for fees to stabilize 1...
Identity: DGM7ZXUtyuebxhSTcWQ31SnqXyAWQzRMWF52oUibJzd8
Genesis Hash: 8noaWTDs3HMwFkREMkg76BvuT8AVS4Xk8wCwadb9PnXF
Version: 2.1.21
Shred Version: 58648
Gossip Address: 127.0.0.1:1024
TPU Address: 127.0.0.1:1027
JSON RPC URL: http://127.0.0.1:8899
WebSocket PubSub URL: ws://127.0.0.1:8900
â ¦ 00:01:26 | Processed Slot: 182 | Confirmed Slot: 182 | Finalized Slot: 151 | Full Snapshot Slot: 100 | Incrementa
```

### è¿è¡Œ

```bash
solana-sandbox/generate_a_signer on î‚  main [!?] is ğŸ“¦ 1.0.0 via â¬¢ v23.11.0 
âœ pnpm start                                               

> generate_a_signer@1.0.0 start /Users/qiaopengjun/Code/Solana/solana-sandbox/generate_a_signer
> tsx src/index.ts

Balance: 1000000000 lamports.
```

## æ€»ç»“

é€šè¿‡æœ¬æ•™ç¨‹ï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•åˆ©ç”¨ @solana/kit åœ¨ Solana åŒºå—é“¾ä¸Šå¿«é€Ÿæ„å»ºä¸€ä¸ª Web3 é¡¹ç›®ï¼Œå®ç°é’±åŒ…åˆ›å»ºã€ç©ºæŠ•å’Œä½™é¢æŸ¥è¯¢çš„æ ¸å¿ƒåŠŸèƒ½ã€‚è¿™ä¸ªç®€å•é«˜æ•ˆçš„æµç¨‹ä¸ä»…ä½“ç°äº† Solana åœ¨ Web3 å¼€å‘ä¸­çš„å¼ºå¤§æ€§èƒ½ï¼Œä¹Ÿä¸ºå¼€å‘è€…æä¾›äº†è¿›å…¥å»ä¸­å¿ƒåŒ–åº”ç”¨å¼€å‘é¢†åŸŸçš„ä¾¿æ·èµ·ç‚¹ã€‚åŸºäºæœ¬æ–‡çš„åŸºç¡€ï¼Œæ‚¨å¯ä»¥è¿›ä¸€æ­¥æ¢ç´¢ Solana çš„æ™ºèƒ½åˆçº¦ã€äº¤æ˜“ç­¾åç­‰é«˜çº§åŠŸèƒ½ï¼Œé€šè¿‡å‚è€ƒæ–‡æ¡£å’Œå¼€æºèµ„æºï¼ŒåŠ é€Ÿåœ¨ Web3 ç”Ÿæ€ä¸­çš„åˆ›æ–°ä¸å®è·µã€‚

## å‚è€ƒ

- <https://solana-kit-docs.vercel.app/docs/getting-started/signers>
- <https://github.com/anza-xyz/kit>
- <https://www.anchor-lang.com/docs/tokens/basics/create-token-account>
