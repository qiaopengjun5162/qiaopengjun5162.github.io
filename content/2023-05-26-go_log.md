+++
title = "Go è¯­è¨€ - è‡ªå®šä¹‰ log"
date = 2023-05-26T13:38:08+08:00
description = "Go è¯­è¨€ä¹‹ è‡ªå®šä¹‰ log"
[taxonomies]
tags = ["Go"]
categories = ["Go"]
+++

# Go è¯­è¨€ - è‡ªå®šä¹‰ log

```bash
Code/go/go_log_demo via ğŸ¹ v1.20.3 via ğŸ…’ base 
âœ tree
.
â”œâ”€â”€ errors.log
â”œâ”€â”€ go.mod
â””â”€â”€ main.go

1 directory, 3 files

Code/go/go_log_demo via ğŸ¹ v1.20.3 via ğŸ…’ base 
âœ 
```

main.go

```go
package main

import (
 "io"
 "log"
 "os"
)

var (
 Trace   *log.Logger // å‡ ä¹ä»»ä½•ä¸œè¥¿
 Info    *log.Logger // é‡è¦ä¿¡æ¯
 Warning *log.Logger // è­¦å‘Š
 Error   *log.Logger // é”™è¯¯
)

func init() {
 file, err := os.OpenFile("errors.log", os.O_CREATE|os.O_WRONLY|os.O_APPEND, 0666)
 if err != nil {
  log.Fatalln("æ— æ³•æ‰“å¼€é”™è¯¯ log æ–‡ä»¶ï¼š", err)
 }

 Trace = log.New(io.Discard, "TRACE: ", log.Ldate|log.Ltime|log.Lshortfile)

 Info = log.New(os.Stdout, "INFO: ", log.Ldate|log.Ltime|log.Lshortfile)

 Warning = log.New(os.Stdout, "WARNING: ", log.Ldate|log.Ltime|log.Lshortfile)

 Error = log.New(io.MultiWriter(file, os.Stderr), "ERROR: ", log.Ldate|log.Ltime|log.Lshortfile)
}

func main() {
 Trace.Println("é¸¡æ¯›è’œçš®çš„å°äº‹")
 Info.Println("ä¸€äº›ç‰¹åˆ«çš„ä¿¡æ¯")
 Warning.Println("è¿™æ˜¯ä¸€ä¸ªè­¦å‘Š")
 Error.Println("å‡ºç°äº†æ•…éšœ")
}

```

è¿è¡Œ

```bash
Code/go/go_log_demo via ğŸ¹ v1.20.3 via ğŸ…’ base 
âœ go run .               
INFO: 2023/05/26 14:22:34 main.go:33: ä¸€äº›ç‰¹åˆ«çš„ä¿¡æ¯
WARNING: 2023/05/26 14:22:34 main.go:34: è¿™æ˜¯ä¸€ä¸ªè­¦å‘Š
ERROR: 2023/05/26 14:22:34 main.go:35: å‡ºç°äº†æ•…éšœ

Code/go/go_log_demo via ğŸ¹ v1.20.3 via ğŸ…’ base 
âœ 
```

errors.log

```bash
ERROR: 2023/05/26 14:22:34 main.go:35: å‡ºç°äº†æ•…éšœ

```
